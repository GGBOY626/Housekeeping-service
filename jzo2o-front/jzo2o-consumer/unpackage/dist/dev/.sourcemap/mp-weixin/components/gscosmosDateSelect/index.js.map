{"version":3,"file":"index.js","sources":["components/gscosmosDateSelect/index.vue","../../../../develop/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovY2xhc3NfcHJvamVjdC9qem8yby9qem8yby1mcm9udC9qem8yby1jb25zdW1lci9jb21wb25lbnRzL2dzY29zbW9zRGF0ZVNlbGVjdC9pbmRleC52dWU"],"sourcesContent":["<!-- 历史订单中的筛选弹窗 -->\r\n<template>\r\n  <view class=\"mask\" v-if=\"showCalendar\" @click.stop=\"showCalendar = false\">\r\n    <view class=\"calendar\" @tap.stop>\r\n      <view class=\"content\" @tap.stop>\r\n        <view class=\"title\">\r\n          <view class=\"sure\"></view>\r\n          <view class=\"left\">{{\r\n            timeType === 'start' ? '开始时间' : '结束时间'\r\n          }}</view>\r\n          <view class=\"close\" @click=\"cancel\"></view>\r\n        </view>\r\n        <picker-view\r\n          :indicator-style=\"indicatorStyle\"\r\n          :value=\"selectValue\"\r\n          @change=\"bindChange\"\r\n        >\r\n          <picker-view-column>\r\n            <view\r\n              class=\"item\"\r\n              v-for=\"(item, index) in years\"\r\n              :key=\"index\"\r\n              :class=\"selectValue[0] === index ? 'active' : ''\"\r\n              >{{ item }}年</view\r\n            >\r\n          </picker-view-column>\r\n          <picker-view-column>\r\n            <view\r\n              class=\"item\"\r\n              v-for=\"(item, index) in months\"\r\n              :key=\"index\"\r\n              :class=\"selectValue[1] === index ? 'active' : ''\"\r\n              >{{ item }}</view\r\n            >\r\n          </picker-view-column>\r\n          <picker-view-column>\r\n            <view\r\n              class=\"item\"\r\n              v-for=\"(item, index) in days\"\r\n              :key=\"index\"\r\n              :class=\"selectValue[2] === index ? 'active' : ''\"\r\n              >{{ item }}</view\r\n            >\r\n          </picker-view-column>\r\n        </picker-view>\r\n        <view class=\"pageFoot\">\r\n          <button @click=\"confirmFun\" class=\"agree-btn btn\">确定</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n<script setup>\r\nimport { ref, watch } from 'vue';\r\nimport { calendar } from './calendar';\r\nconst showCalendar = ref(false);\r\nconst type = ref('solar');\r\nconst dateInfo = ref({});\r\nconst indicatorStyle = `height: ${Math.round(\r\n  uni.getSystemInfoSync().screenWidth / (750 / 60)\r\n)}px;`;\r\nconst years = ref([]);\r\nconst months = ref([]);\r\nconst days = ref([]);\r\nconst minYear = 1900; // Define your minYear here\r\nconst maxYear = 2100; // Define your maxYear here\r\n\r\n// Define the 'emit' function to handle custom events\r\nconst emit = defineEmits(['confirm', 'cancel']);\r\n\r\n// Define 'defaultValue', 'defaultType', and 'isSwitch' props here\r\nconst props = defineProps({\r\n  showCalendar: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n  defaultValue: {\r\n    type: Array,\r\n    default: () => [100, 0, 0],\r\n  },\r\n  defaultType: {\r\n    type: String,\r\n    default: () => 'solar',\r\n  },\r\n  timeType: {\r\n    type: String,\r\n  },\r\n  isSwitch: {\r\n    type: Boolean,\r\n    default: true,\r\n  },\r\n  minYear: {\r\n    type: Number,\r\n    default: 1900,\r\n  },\r\n  maxYear: {\r\n    type: Number,\r\n    default: 2100,\r\n  },\r\n});\r\nconst selectValue = ref(props.defaultValue);\r\nwatch(\r\n  () => props.showCalendar,\r\n  (newV, oldV) => {\r\n    showCalendar.value = newV;\r\n    getYear();\r\n    getMonth();\r\n    getDay();\r\n  }\r\n);\r\n// Define the calendar object and its methods here\r\n// Make sure to import the calendar object if it's in a separate file\r\n\r\nconst getYear = () => {\r\n  years.value = []\r\n  if (type.value === 'solar') {\r\n    for (let i = minYear; i <= maxYear; i++) {\r\n      years.value.push(i);\r\n    }\r\n    getMonth();\r\n    return years;\r\n  }\r\n\r\n  if (type.value === 'lunar') {\r\n    for (let i = minYear; i <= maxYear; i++) {\r\n      years.value.push(calendar.toChinaYear(i));\r\n    }\r\n    return years;\r\n  }\r\n};\r\n\r\nconst getMonth = () => {\r\n  months.value = []\r\n  if (type.value === 'solar') {\r\n    for (let i = 1; i <= 12; i++) {\r\n      months.value.push(i + '月');\r\n    }\r\n    return months;\r\n  }\r\n\r\n  if (type.value === 'lunar') {\r\n    const year = selectValue.value[0] + minYear;\r\n    const leap_month = calendar.leapMonth(year);\r\n\r\n    for (let i = 1; i <= 12; i++) {\r\n      months.value.push(calendar.toChinaMonth(i));\r\n      if (i == leap_month) {\r\n        months.value.push('闰' + calendar.toChinaMonth(i));\r\n      }\r\n    }\r\n    return months;\r\n  }\r\n};\r\n\r\nconst getDay = () => {\r\n  days.value = []\r\n  let year = selectValue.value[0] + minYear;\r\n  let month = selectValue.value[1] + 1;\r\n  for (let i = 1; i <= calendar.solarDays(year, month); i++) {\r\n    days.value.push(i + '日');\r\n  }\r\n  return days;\r\n};\r\n\r\nconst bindChange = async (e) => {\r\n  let val = e.detail.value;\r\n  selectValue.value = await val;\r\n  const year = val[0] + minYear;\r\n  const month = val[1] + 1;\r\n  const day = val[2] + 1;\r\n  setSolarDate(year, month, day);\r\n};\r\n\r\nconst setSolarDate = (y, m, d) => {\r\n  const dt = calendar.solar2lunar(y, m, d);\r\n  dateInfo.value = {\r\n    type: 'solar',\r\n    Animal: dt.Animal,\r\n    astro: dt.astro,\r\n    ncWeek: dt.ncWeek,\r\n    nWeek: dt.nWeek,\r\n    gzYear: dt.gzYear,\r\n    gzMonth: dt.gzMonth,\r\n    gzDay: dt.gzDay,\r\n    IMonthCn: dt.IMonthCn,\r\n    IDayCn: dt.IDayCn,\r\n    festival: dt.festival,\r\n    year: dt.cYear,\r\n    month: dt.cMonth,\r\n    day: dt.cDay,\r\n    solarDate: dt.date,\r\n    lDay: dt.lDay,\r\n    lMonth: dt.lMonth,\r\n    lYear: dt.lYear,\r\n    lunarDate: `${dt.gzYear}年${dt.IMonthCn}${dt.IDayCn}(${dt.date})`,\r\n    lunarDateNumber: dt.lunarDate,\r\n    Term: dt.Term,\r\n    isTerm: dt.isTerm,\r\n    isLeap: dt.isLeap,\r\n    isToday: dt.isToday,\r\n  };\r\n};\r\n\r\n// Watch for changes in selectValue\r\nwatch(selectValue, (newV, oldV) => {\r\n  getYear();\r\n  getMonth();\r\n  getDay();\r\n});\r\nconst cancel = () => {\r\n  emit('cancel');\r\n};\r\n\r\nconst confirmFun = () => {\r\n  if (Object.keys(dateInfo.value).length === 0) {\r\n    setSolarDate(props.defaultValue[0] + 1900, props.defaultValue[1] + 1, props.defaultValue[2] + 1);\r\n  }\r\n  emit('confirm', dateInfo.value);\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scope>\r\n.mask {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 750rpx;\r\n  box-sizing: border-box;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  z-index: 9999999;\r\n}\r\n.u-mask-zoom {\r\n  transform: scale(1, 1);\r\n}\r\n.calendar {\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: center;\r\n  height: 100%;\r\n  .content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    // height: 100%;\r\n    background-color: #fff;\r\n    border-top-left-radius: 24rpx;\r\n    border-top-right-radius: 24rpx;\r\n    .title {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      height: 86rpx;\r\n      border-bottom: 2rpx solid #e6e6e6;\r\n      width: 100%;\r\n      justify-content: center;\r\n      // border: 1rpx solid red;\r\n      background-color: #ffffff;\r\n      border-top-left-radius: 24rpx;\r\n      border-top-right-radius: 24rpx;\r\n      /* #ifdef MP-WEIXIN */\r\n      margin-top: 0;\r\n      /* #endif */\r\n      .left {\r\n        font-family: PingFangSC-SNaNpxibold;\r\n        font-weight: 600;\r\n        font-size: 16px;\r\n        color: #191919;\r\n        letter-spacing: 0.18px;\r\n      }\r\n      .sure {\r\n        color: #eb344a;\r\n        font-size: 30rpx;\r\n        padding: 0 30rpx;\r\n      }\r\n      .close {\r\n        position: absolute;\r\n        right: 30rpx;\r\n        width: 40rpx;\r\n        height: 40rpx;\r\n        background-repeat: no-repeat;\r\n        background-size: contain;\r\n        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAt5JREFUWEftmLmKFlEQhb9xQY1EQSMfY0J3BRHBRJ1IMDIwUwNxBxdcMNBYfALBMTVQFB/ATAwEM0FwCQRFceVgFRRNd9+69/+Twb+hYWa4t/rUqeVUzRxL5JlbIjiZAZ12pGaMzhhNMLAM+GNv4vjoEaWc3rS9lhz1O/pIy9N12AEXPct+bAvwBXgR2Mje9XMOag2wFXgDvM7YKzG6HPgFXAAuA7+B08AtoDYV3NY64D6wG/gA7DHnZU/2e58xoDHET4CdwE9gBXAWuG5gB42HLzoIgXwA7Ai2Tpnj7kg1UF3wy8eB22ZcDujvYvZmgtnI5CKwHfgBrATeGQGvSuEvhV5gPa+uAWcMrBjSW2K2j8nvwCrgE3AQeJqJTAZoBHsFOJ9kdoxJ5eaCgRwNeazCTOXKIbGjwsow61GIOdnHZAqkM5UB6mcFQMVzFTg3wKyKTUUnkN2cjEz6udT3s6GPERhjVuDF+HqrbhXOREzWhj567fLXZdYL7BIwD+wL1d3M5CRAPQ26zAq4O6Ez3nM/AodqCqcvF2pD32VWv0vzxeJF+9kFQIXyFjgMPDOhEPimZxKgURA2mAxuCmAF9B5w1ECqY7QOMhPtTLFPPgS2WfvyGcDTIIpCeqzr0t7KaJ/iiDGBlzwKkCTS87mkYMV0aAE6pjgqnAPAZuu1ykmfDSS/NxKzQdNQ0r2U1W7dyyhYkcmW9pTVboVcTCr8fQrWxGw29Fkm3Zna2aDIbAZoBFmj3UMK1jfPFofvElCfgtYCakGazGu0O8tsccErAfVQ3rXG/Q1YbbuOz5OlKajE7F7gUWl4zu5Mj4Fdlkgt2t3HrPfdE8CdsPY0tSfPz/22H2ldPgk8b9DuuCxq3zoGvASOAO+nsTO5h5oxFfqvpTCNlHBMg43AZ7M5laqXkbhzj+7fxS/+O+A2IsujV0vFNDTWJfGMHqv6B0YN0GmAa7YxA9pM3cDFGaP/LaN/AcVo+ytMR6mZAAAAAElFTkSuQmCC);\r\n      }\r\n    }\r\n    picker-view {\r\n      width: 100%;\r\n      height: 650rpx;\r\n      margin-top: 20rpx;\r\n      :deep(.item) {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: #333333;\r\n        font-size: 32rpx;\r\n        font-weight: bold;\r\n        padding: 0;\r\n        margin: 0;\r\n      }\r\n      .uni-picker-view-wrapper {\r\n        uni-picker-view-column {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #333333;\r\n          font-size: 32rpx;\r\n          font-weight: bold;\r\n          .uni-picker-view-group {\r\n            .uni-picker-view-content {\r\n              text-align: center;\r\n              line-height: 110rpx;\r\n              .item {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                color: #333333;\r\n                font-size: 32rpx;\r\n                font-weight: bold;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .bottom {\r\n      height: 110rpx;\r\n      width: calc(100% - 31rpx);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: flex-end;\r\n      padding-right: 31rpx;\r\n      background-color: #ffffff;\r\n      .switch {\r\n        background-color: #e6e6e6;\r\n        width: 180rpx;\r\n        height: 70rpx;\r\n        display: flex;\r\n        flex-direction: row;\r\n        border-radius: 35rpx;\r\n        justify-content: space-around;\r\n        align-items: center;\r\n        position: relative;\r\n        .left {\r\n          position: absolute;\r\n          z-index: 1;\r\n          left: 25%;\r\n          font-size: 28rpx;\r\n          transform: translateX(-50%);\r\n        }\r\n        .right {\r\n          color: #333333;\r\n          font-size: 28rpx;\r\n          position: absolute;\r\n          right: 0;\r\n          transform: translateX(-25%);\r\n          color: #333333;\r\n          z-index: 1;\r\n        }\r\n        .bg {\r\n          background-color: #eb344a;\r\n          color: #333333;\r\n          height: 70rpx;\r\n          border-radius: 40rpx;\r\n          width: 90rpx;\r\n          position: absolute;\r\n          // right: 0;\r\n          top: 0;\r\n          z-index: 0;\r\n        }\r\n        .active {\r\n          color: #ffffff;\r\n        }\r\n        .lunar {\r\n          left: 90rpx;\r\n          animation: switchsolar 500ms;\r\n        }\r\n        @keyframes switchsolar {\r\n          0% {\r\n            left: 0;\r\n          }\r\n          100% {\r\n            left: 90rpx;\r\n          }\r\n        }\r\n        .solar {\r\n          left: 0;\r\n          animation: switchlunar 500ms;\r\n        }\r\n        @keyframes switchlunar {\r\n          0% {\r\n            left: 90rpx;\r\n          }\r\n          100% {\r\n            left: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.active {\r\n  color: #f74346 !important;\r\n}\r\n.pageFoot {\r\n  background: #ffffff;\r\n  box-shadow: 0 0 6px 0 #0000001a;\r\n}\r\n</style>\r\n","import Component from 'D:/class_project/jzo2o/jzo2o-front/jzo2o-consumer/components/gscosmosDateSelect/index.vue'\nwx.createComponent(Component)"],"names":["ref","uni","watch","calendar","Component"],"mappings":"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"}