{"version":3,"file":"index.js","sources":["pages/my/index.vue","../../../../develop/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvaW5kZXgudnVl"],"sourcesContent":["<!-- 我的页面 -->\n<template>\n  <view class=\"myPage\">\n    <!-- 标题 -->>\n    <!-- end -->\n    <view class=\"main\" :style=\"{ paddingTop: capsuleBottom + 'px' }\">\n      <view class=\"head\" @click=\"handleClick\">\n        <image src=\"https://yjy-oss-videos.oss-accelerate.aliyuncs.com/tx.png\"></image>\n        <view class=\"text\">{{\n          token && nickName ? nickName : '立即登录'\n        }}</view>\n      </view>\n      <view class=\"box boxRadius\">\n        <!-- 我的订单 -->\n        <view class=\"order\">\n          <view class=\"lText\">我的订单</view>\n          <view class=\"rText\" @click=\"handleOrder('')\"\n            >查看全部<icon class=\"nextIcon iconOpacity\"></icon>\n          </view>\n        </view>\n        <!-- end -->\n        <!-- 快速导航 -->\n        <FastMenu @handle-order=\"handleOrder\"></FastMenu>\n        <!-- end -->\n      </view>\n      <!-- 我的导航 -->\n      <view class=\"box boxRadius\">\n        <MyMenu\n          @handleAddress=\"handleAddress\"\n          @handleCoupon=\"handleCoupon\"\n          @handle-bill=\"handleBill\"\n        ></MyMenu>\n      </view>\n      <view class=\"phoneMenu\">\n          <view class=\"item\">\n            <view @click=\"handlePhone\"\n              ><text>客服电话</text><test>400-000-4000</test></view\n            >\n          </view>\n        </view>\n    </view>\n    <!-- footer -->\n    <UniFooter :pagePath=\"'/pages/my/index'\"></UniFooter>\n    <!-- end -->\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport {\n  onShow,\n  onLoad,\n} from '@dcloudio/uni-app';\n// 接口api\nimport { useStore } from 'vuex';\n// 组件\n// 快速入口\nimport FastMenu from './components/FastMenu.vue';\nimport MyMenu from './components/MyMenu.vue';\n\n// ------定义变量------\nconst store = useStore(); //存储获取数据\nconst nickName = ref(null); //昵称\nconst token = ref(null); //token\n//胶囊底部距离头部的距离\nlet capsuleBottom = ref();\n// ------生命周期------\nonShow(() => {\n  // 获取nickName\n  nickName.value = uni.getStorageSync('nickName');\n  // 获取token\n  token.value = uni.getStorageSync('token');\n});\nonLoad(() => {\n  uni.getSystemInfo({\n    success: (res) => {\n      capsuleBottom.value = uni.getMenuButtonBoundingClientRect().bottom + 12;\n    },\n  });\n});\n// ------定义方法------\n// 如果没有登录，进入登录页面\nconst handleClick = () => {\n  if (!token.value && !nickName.value) {\n    goLogin();\n  }\n};\n// 订单列表页\nconst handleOrder = (val) => {\n  if (val != undefined) {\n    store.commit('user/setOrderStatus', val);\n  }\n  if (!token.value && !nickName.value) {\n    goLogin();\n  } else {\n    store.commit('user/setBackLike', 'my');\n    uni.navigateTo({\n      url: '/subPages/order/index',\n    });\n  }\n};\n// 我的地址\nconst handleAddress = () => {\n  if (!token.value && !nickName.value) {\n    goLogin();\n  } else {\n    uni.navigateTo({\n      url: '/pages/address/index?type=address&isFromAddress=true',\n    });\n  }\n};\n// 我的优惠券\nconst handleCoupon = () => {\n  if (!token.value && !nickName.value) {\n    goLogin();\n  } else {\n    uni.navigateTo({\n      url: '/pages/coupon/coupon',\n    });\n  }\n};\n// 我的评价\nconst handleBill = () => {\n  if (!token.value && !nickName.value) {\n    goLogin();\n  } else {\n    uni.navigateTo({\n      url: '/pages/commit/index',\n    });\n  }\n};\n// 进入登录页\nconst goLogin = () => {\n  store.commit('setRouter', 'pages/my/index');\n  uni.navigateTo({\n    url: '/pages/login/index',\n  });\n};\n// 客服电话\nconst handlePhone = () => {\n  uni.makePhoneCall({\n    phoneNumber: '400-000-4000',\n  });\n};\n// 暴露给父组件\ndefineExpose({});\n</script>\n<style src=\"./index.scss\" lang=\"scss\" scoped></style>\n","import MiniProgramPage from 'D:/class_project/jzo2o/jzo2o-front/jzo2o-consumer/pages/my/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useStore","ref","onShow","uni","onLoad"],"mappings":";;;;;;;;;;AAyDA,MAAM,WAAW,MAAW;AAC5B,MAAM,SAAS,MAAW;;;;AAG1B,UAAM,QAAQA,cAAQ,SAAA;AACtB,UAAM,WAAWC,cAAAA,IAAI,IAAI;AACzB,UAAM,QAAQA,cAAAA,IAAI,IAAI;AAEtB,QAAI,gBAAgBA,cAAG,IAAA;AAEvBC,kBAAAA,OAAO,MAAM;AAEX,eAAS,QAAQC,cAAAA,MAAI,eAAe,UAAU;AAE9C,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AAAA,IAC1C,CAAC;AACDC,kBAAAA,OAAO,MAAM;AACXD,oBAAAA,MAAI,cAAc;AAAA,QAChB,SAAS,CAAC,QAAQ;AAChB,wBAAc,QAAQA,cAAG,MAAC,gCAA+B,EAAG,SAAS;AAAA,QACtE;AAAA,MACL,CAAG;AAAA,IACH,CAAC;AAGD,UAAM,cAAc,MAAM;AACxB,UAAI,CAAC,MAAM,SAAS,CAAC,SAAS,OAAO;AACnC;MACD;AAAA,IACH;AAEA,UAAM,cAAc,CAAC,QAAQ;AAC3B,UAAI,OAAO,QAAW;AACpB,cAAM,OAAO,uBAAuB,GAAG;AAAA,MACxC;AACD,UAAI,CAAC,MAAM,SAAS,CAAC,SAAS,OAAO;AACnC;MACJ,OAAS;AACL,cAAM,OAAO,oBAAoB,IAAI;AACrCA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,QACX,CAAK;AAAA,MACF;AAAA,IACH;AAEA,UAAM,gBAAgB,MAAM;AAC1B,UAAI,CAAC,MAAM,SAAS,CAAC,SAAS,OAAO;AACnC;MACJ,OAAS;AACLA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,QACX,CAAK;AAAA,MACF;AAAA,IACH;AAEA,UAAM,eAAe,MAAM;AACzB,UAAI,CAAC,MAAM,SAAS,CAAC,SAAS,OAAO;AACnC;MACJ,OAAS;AACLA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,QACX,CAAK;AAAA,MACF;AAAA,IACH;AAEA,UAAM,aAAa,MAAM;AACvB,UAAI,CAAC,MAAM,SAAS,CAAC,SAAS,OAAO;AACnC;MACJ,OAAS;AACLA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,QACX,CAAK;AAAA,MACF;AAAA,IACH;AAEA,UAAM,UAAU,MAAM;AACpB,YAAM,OAAO,aAAa,gBAAgB;AAC1CA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACT,CAAG;AAAA,IACH;AAEA,UAAM,cAAc,MAAM;AACxBA,oBAAAA,MAAI,cAAc;AAAA,QAChB,aAAa;AAAA,MACjB,CAAG;AAAA,IACH;AAEA,aAAa,CAAE,CAAA;;;;;;;;;;;;;;;;;;;;AChJf,GAAG,WAAW,eAAe;"}