{"version":3,"file":"user.js","sources":["store/modules/user.js"],"sourcesContent":["import {\r\n\tgetUserInfo\r\n} from '@/pages/api/user.js';\r\n// 用户信息模块(局部模块)\r\nexport default {\r\n\tnamespaced: true, // 开启命名空间\r\n\tstate() {\r\n\t\treturn {\r\n      appointmentType: null, //预约类型，方便从首页跳转的是参观预约（0）还是探访（1）\r\n\t\t\tappStatus: 0, // 预约的Table切换状态记录\r\n\t\t\ttoken: null, // token\r\n\t\t\tnickName: null, //登录昵称\r\n\t\t\torderStatus:null,//订单当前选中状态\r\n\t\t\tgoodsData:{},// 服务商品\r\n\t\t\thistoryData:[], //商品搜索历史数据\r\n\t\t\tisOrderType:false ,//订单是否提交成功\r\n\t\t\tbackLink:'',\r\n      EvaluateData:{},//评价项信息\r\n\t\t}\r\n\t},\r\n\tmutations: {\r\n    // 记录预约的类型\r\n\t\tsetAppointmentType(state, provider) {\r\n\t\t\tstate.appointmentType = provider;\r\n\t\t},\r\n\t\t// 记录商品id\r\n\t\tsetGoodsData(state, provider) {\r\n\t\t\tstate.goodsData = provider;\r\n\t\t},\r\n\t\t//订单当前选中状态\r\n\t\tsetOrderStatus(state, provider) {\r\n\t\t\tstate.orderStatus = provider;\r\n\t\t},\r\n\t\t// 预约Table切换状态记录\r\n\t\tsetAppStatus(state, provider) {\r\n\t\t\tstate.appStatus = provider;\r\n\t\t},\r\n\t\t// 设置历史商品历史数据\r\n\t\tsetHistoryData(state, provider) {\r\n\t\t\tstate.historyData = provider\r\n\t\t},\r\n\t\t// 设置token\r\n\t\tsetToken(state, provider) {\r\n\t\t\tstate.token = provider;\r\n\t\t},\r\n\t\t// 设置昵称\r\n\t\tsetToken(state, provider) {\r\n\t\t\tstate.nickName = provider;\r\n\t\t},\r\n\t\t// 订单是否提交成功\r\n\t\tsetOrderType(state, provider) {\r\n      console.log(state,provider,'provider');\r\n\t\t\tstate.isOrderType = provider;\r\n\t\t},\r\n\t\tsetBackLike(state, provider) {\r\n\t\t\tstate.backLink = provider;\r\n\t\t},\r\n    // 评价项信息\r\n    setEvaluate(state, provider) {\r\n      state.EvaluateData = provider;\r\n    }\r\n\t},\r\n\tactions: {\r\n\t\t// 获取用户信息\r\n\t\tasync GetUsersInfo({\r\n\t\t\tstate,\r\n\t\t\tcommit\r\n\t\t}, payload) {\r\n\t\t\tif (state.token !== '') {\r\n\t\t\t\tawait getUserInfo().then((res) => {\r\n\t\t\t\t\t// 存储用户信息\r\n\t\t\t\t\tcommit('setUserInfo', res.data)\r\n\t\t\t\t}).catch((err) => {\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n    \r\n\t},\r\n\tgetters: {\r\n\r\n\t}\r\n}\r\n"],"names":["uni","getUserInfo"],"mappings":";;;AAIA,MAAe,OAAA;AAAA,EACd,YAAY;AAAA;AAAA,EACZ,QAAQ;AACP,WAAO;AAAA,MACH,iBAAiB;AAAA;AAAA,MACpB,WAAW;AAAA;AAAA,MACX,OAAO;AAAA;AAAA,MACP,UAAU;AAAA;AAAA,MACV,aAAY;AAAA;AAAA,MACZ,WAAU,CAAE;AAAA;AAAA,MACZ,aAAY,CAAE;AAAA;AAAA,MACd,aAAY;AAAA;AAAA,MACZ,UAAS;AAAA,MACN,cAAa,CAAE;AAAA;AAAA,IAClB;AAAA,EACD;AAAA,EACD,WAAW;AAAA;AAAA,IAEV,mBAAmB,OAAO,UAAU;AACnC,YAAM,kBAAkB;AAAA,IACxB;AAAA;AAAA,IAED,aAAa,OAAO,UAAU;AAC7B,YAAM,YAAY;AAAA,IAClB;AAAA;AAAA,IAED,eAAe,OAAO,UAAU;AAC/B,YAAM,cAAc;AAAA,IACpB;AAAA;AAAA,IAED,aAAa,OAAO,UAAU;AAC7B,YAAM,YAAY;AAAA,IAClB;AAAA;AAAA,IAED,eAAe,OAAO,UAAU;AAC/B,YAAM,cAAc;AAAA,IACpB;AAAA;AAAA,IAED,SAAS,OAAO,UAAU;AACzB,YAAM,QAAQ;AAAA,IACd;AAAA;AAAA,IAED,SAAS,OAAO,UAAU;AACzB,YAAM,WAAW;AAAA,IACjB;AAAA;AAAA,IAED,aAAa,OAAO,UAAU;AAC1BA,oBAAY,MAAA,MAAA,OAAA,+BAAA,OAAM,UAAS,UAAU;AACxC,YAAM,cAAc;AAAA,IACpB;AAAA,IACD,YAAY,OAAO,UAAU;AAC5B,YAAM,WAAW;AAAA,IACjB;AAAA;AAAA,IAEC,YAAY,OAAO,UAAU;AAC3B,YAAM,eAAe;AAAA,IACtB;AAAA,EACH;AAAA,EACD,SAAS;AAAA;AAAA,IAER,MAAM,aAAa;AAAA,MAClB;AAAA,MACA;AAAA,IACA,GAAE,SAAS;AACX,UAAI,MAAM,UAAU,IAAI;AACvB,cAAMC,2BAAa,EAAC,KAAK,CAAC,QAAQ;AAEjC,iBAAO,eAAe,IAAI,IAAI;AAAA,QACnC,CAAK,EAAE,MAAM,CAAC,QAAQ;AAAA,QAEtB,CAAK;AAAA,MACD;AAAA,IACD;AAAA,EAED;AAAA,EACD,SAAS,CAER;AACF;;"}