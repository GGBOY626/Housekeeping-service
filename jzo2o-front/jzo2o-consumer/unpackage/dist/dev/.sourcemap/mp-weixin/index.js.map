{"version":3,"file":"index.js","sources":["components/Foot/index.vue"],"sourcesContent":["<template>\n\t<!-- 公用底部tabbar，自定义 -->\n\t<view class=\"footBox\">\n\t\t<view class=\"uni-tabbar\">\n\t\t\t<view class=\"tabbar-item\" :class=\"activePage === item.pagePath ? 'active' : ''\" v-for=\"(item, index) in tabbar\"\n\t\t\t\t:key=\"index\" @tap=\"changeTab(item, index)\">\n\t\t\t\t<view v-if=\"true\" class=\"uni-tabbar__bd\">\n\t\t\t\t\t<view class=\"uni-tabbar__icon\" v-if=\"item.pagePath !== ''\">\n\t\t\t\t\t\t<image v-if=\"activePage === item.pagePath\" class=\"item-img\" :src=\"item.selectedIconPath\" />\n\t\t\t\t\t\t<image v-else class=\"item-img\" :src=\"item.iconPath\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view v-else class=\"qrCode\">\n\t\t\t\t\t\t<image :src=\"item.iconPath\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"uni-tabbar__label\" v-if=\"item.text !== ''\">{{ item.text }}</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n\t<!-- end -->\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n    computed,\n\t} from 'vue';\n\timport {\n\t\tuseStore\n\t} from 'vuex';\n\t// 获取父组件值、方法\n\tconst props = defineProps({\n\t\tpagePath: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t});\n  const  activePage = computed(() => {\n    return props.pagePath\n  })\n\tconst store = useStore();\n\tconst currentPage = ref(store.state.footStatus);\n\t// 底部列表配置   \n\tconst tabbar = ref([{\n\t\t\t\"pagePath\": \"/pages/index/index\",\n\t\t\t\"text\": \"首页\",\n\t\t\t\"iconPath\": \"/static/sy.png\",\n\t\t\t\"selectedIconPath\": \"/static/sy1.png\"\n\t\t},\n\t\t{\n\t\t\t\"pagePath\": \"/pages/service/index\",\n\t\t\t\"text\": \"全部服务\",\n\t\t\t\"iconPath\": \"/static/fw.png\",\n\t\t\t\"selectedIconPath\": \"/static/qb1.png\"\n\t\t},\n\t\t{\n\t\t\t\"pagePath\": \"/pages/message/index\",\n\t\t\t\"text\": \"消息\",\n\t\t\t\"iconPath\": \"/static/x x.png\",\n\t\t\t\"selectedIconPath\": \"/static/xx1.png\"\n\t\t},\n\t\t{\n\t\t\t\"pagePath\": \"/pages/my/index\",\n\t\t\t\"text\": \"我的\",\n\t\t\t\"iconPath\": \"/static/wd.png\",\n\t\t\t\"selectedIconPath\": \"/static/wd2.png\"\n\t\t}\n\t]);\n\t// 切换事件\n\tconst changeTab = (item, index) => {\n\t\tlet routes = getCurrentPages(); // 获取当前打开过的页面路由数组\n\t\tlet curRoute = routes[routes.length - 1].route //获取当前页面路由\n\t\tif (item.text !== '') {\n\t\t\tcurrentPage.value = index;\n\t\t\tstore.commit('setFootStatus', index) //设置当前底部导航状态\n\t\t\tconst token = uni.getStorageSync('token')\n\t\t\tstore.commit('user/setAppointmentType', null); //清除从首页进入的预约当前状态\n\t\t\tif (!token && index === 1) {\n\t\t\t\tif(curRoute==='pages/my/index'){\n\t\t\t\t\tstore.commit('setFootStatus', 3)\n\t\t\t\t}else if(curRoute==='pages/index/index'){\n\t\t\t\t\tstore.commit('setFootStatus', 0)\n\t\t\t\t}else if(curRoute==='pages/service/index'){\n\t\t\t\t\tstore.commit('setFootStatus', 2)\n\t\t\t\t}\n\t\t\t\tstore.commit('setRouter',curRoute)\n\t\t\t\tuni.redirectTo({\n\t\t\t\t\turl: '/pages/login/index'\n\t\t\t\t});\n\t\t\t} else {\n        //  点击消息时\n        if(item.pagePath==='/pages/message/index'){\n          uni.showToast({\n            title: '当前功能非教学版本！',\n            icon:'none'\n          });\n        }else{\n          uni.redirectTo({\n\t\t\t\t\turl: item.pagePath\n\t\t\t\t});\n        }\n\t\t\t\t\n\t\t\t}\n\n\t\t}\n\t};\n</script>"],"names":["computed","useStore","ref","uni"],"mappings":";;;;;;;;;;;AA+BC,UAAM,QAAQ;AAMb,UAAO,aAAaA,cAAAA,SAAS,MAAM;AACjC,aAAO,MAAM;AAAA,IACjB,CAAG;AACF,UAAM,QAAQC,cAAAA;AACd,UAAM,cAAcC,cAAG,IAAC,MAAM,MAAM,UAAU;AAE9C,UAAM,SAASA,cAAAA,IAAI;AAAA,MAAC;AAAA,QAClB,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,oBAAoB;AAAA,MACpB;AAAA,MACD;AAAA,QACC,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,oBAAoB;AAAA,MACpB;AAAA,MACD;AAAA,QACC,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,oBAAoB;AAAA,MACpB;AAAA,MACD;AAAA,QACC,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,oBAAoB;AAAA,MACpB;AAAA,IACH,CAAE;AAED,UAAM,YAAY,CAAC,MAAM,UAAU;AAClC,UAAI,SAAS;AACb,UAAI,WAAW,OAAO,OAAO,SAAS,CAAC,EAAE;AACzC,UAAI,KAAK,SAAS,IAAI;AACrB,oBAAY,QAAQ;AACpB,cAAM,OAAO,iBAAiB,KAAK;AACnC,cAAM,QAAQC,cAAAA,MAAI,eAAe,OAAO;AACxC,cAAM,OAAO,2BAA2B,IAAI;AAC5C,YAAI,CAAC,SAAS,UAAU,GAAG;AAC1B,cAAG,aAAW,kBAAiB;AAC9B,kBAAM,OAAO,iBAAiB,CAAC;AAAA,UACpC,WAAa,aAAW,qBAAoB;AACvC,kBAAM,OAAO,iBAAiB,CAAC;AAAA,UACpC,WAAa,aAAW,uBAAsB;AACzC,kBAAM,OAAO,iBAAiB,CAAC;AAAA,UAC/B;AACD,gBAAM,OAAO,aAAY,QAAQ;AACjCA,wBAAAA,MAAI,WAAW;AAAA,YACd,KAAK;AAAA,UACV,CAAK;AAAA,QACL,OAAU;AAEF,cAAG,KAAK,aAAW,wBAAuB;AACxCA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAK;AAAA,YACjB,CAAW;AAAA,UACX,OAAa;AACHA,0BAAAA,MAAI,WAAW;AAAA,cACpB,KAAK,KAAK;AAAA,YACf,CAAK;AAAA,UACI;AAAA,QAEL;AAAA,MAED;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}