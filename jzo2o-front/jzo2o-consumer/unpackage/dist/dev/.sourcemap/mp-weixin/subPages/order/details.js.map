{"version":3,"file":"details.js","sources":["subPages/order/details.vue","../../../../develop/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFnZXNcb3JkZXJcZGV0YWlscy52dWU"],"sourcesContent":["<!--订单详情-->\r\n<template>\r\n  <scroll-view class=\"scroll-view-content\" scroll-y>\r\n    <view class=\"pageCon detailsBox\">\r\n      <!-- 标题 -->\r\n      <NavBar\r\n        title=\"订单详情\"\r\n        :isShowBack=\"true\"\r\n        :handleToLink=\"handleToLink\"\r\n      ></NavBar>\r\n      <!-- end -->\r\n      <view>\r\n        <view class=\"operateTip\">\r\n          <!-- 待支付 -->\r\n          <view v-if=\"baseData.ordersStatus === 0\">\r\n            <view class=\"tit\">订单待支付</view>\r\n            <view>请在{{ times }}内完成支付，超时将取消订单</view>\r\n          </view>\r\n          <!-- end -->\r\n          <!-- 待执行 -->\r\n          <view v-if=\"baseData.ordersStatus === 100\">\r\n            <view class=\"tit\">订单正在派单中</view>\r\n            <view>服务人员疯狂抢单中，请耐心等待～</view>\r\n          </view>\r\n          <view v-if=\"baseData.ordersStatus === 200\">\r\n            <view class=\"tit\">订单待服务</view>\r\n            <view v-if=\"baseData.serverName\"\r\n              >{{ baseData.serverName }}将为您竭诚服务</view\r\n            >\r\n          </view>\r\n          <!-- end -->\r\n          <!-- 已完成 -->\r\n          <view v-if=\"baseData.ordersStatus === 300\">\r\n            <view class=\"tit\">当前订单正在服务中</view>\r\n          </view>\r\n          <!-- end -->\r\n          <!-- 订单已经关闭 -->\r\n          <view v-if=\"baseData.ordersStatus === 400\">\r\n            <view class=\"tit\">订单待评价</view>\r\n            <view>订单已完成服务，请对本次服务进行评价</view>\r\n          </view>\r\n          <!-- end -->\r\n          <!-- 已退款 -->\r\n          <view v-if=\"baseData.ordersStatus === 500\">\r\n            <view class=\"tit\">订单已完成</view>\r\n          </view>\r\n          <view v-if=\"baseData.ordersStatus === 600\">\r\n            <view class=\"tit\">订单已取消</view>\r\n            <view>取消原因：{{ baseData.cancelReason }}</view>\r\n          </view>\r\n          <view v-if=\"baseData.ordersStatus === 700\">\r\n            <view class=\"tit\">订单已关闭</view>\r\n          </view>\r\n          <!-- end -->\r\n        </view>\r\n        <view class=\"box projectBox\">\r\n          <view class=\"projectInfo\">\r\n            <view class=\"head\">\r\n              <image :src=\"baseData.serveItemImg\"></image>\r\n            </view>\r\n            <view class=\"rText\">\r\n              <view class=\"tit\">{{ baseData.serveTypeName }}</view>\r\n              <view class=\"projectFee\">\r\n                <text class=\"hour\"\r\n                  >{{ baseData.serveItemName }} × {{ baseData.purNum\r\n                  }}{{ UNIT[baseData.unit - 1]?.label }}</text\r\n                >\r\n              </view>\r\n              <view class=\"projectFee\"> ￥{{ baseData.price }} </view>\r\n            </view>\r\n          </view>\r\n          <view\r\n            class=\"foot foot1\"\r\n            v-if=\"baseData.price - baseData.realPayAmount > 0\"\r\n            >优惠金额<text class=\"red\"\r\n              >¥{{ (baseData.price - baseData.realPayAmount).toFixed(2) }}</text\r\n            ></view\r\n          >\r\n          <view class=\"foot\"\r\n            >{{ baseData.ordersStatus === 0 ? '待付款金额' : '实际支付'\r\n            }}<text :class=\"baseData.ordersStatus === 0 ? 'font-col' : ''\"\r\n              >¥{{ baseData.realPayAmount }}</text\r\n            ></view\r\n          >\r\n        </view>\r\n        <view\r\n          class=\"cancelReason\"\r\n          @click=\"handleToCancelRule\"\r\n          v-if=\"baseData.payStatus === 300 || baseData.ordersStatus === 700\"\r\n        >\r\n          <view\r\n            class=\"refund\"\r\n            v-if=\"baseData.payStatus === 300 || baseData.ordersStatus === 700\"\r\n          >\r\n            <text>您的订单已</text>\r\n            <text class=\"success\">退款完成</text>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"mt-20 box orderInfo\">\r\n          <view\r\n            class=\"orderList\"\r\n            v-if=\"\r\n              baseData.ordersStatus === 0 ||\r\n              baseData.ordersStatus === 600 ||\r\n              baseData.ordersStatus === 300 ||\r\n              (baseData.ordersStatus === 200 && baseData.payStatus !== 300) ||\r\n              baseData.ordersStatus === 100\r\n            \"\r\n          >\r\n            <view\r\n              class=\"item\"\r\n              v-if=\"\r\n                (baseData.serverName && baseData.ordersStatus === 200) ||\r\n                baseData.ordersStatus === 300 ||\r\n                baseData.payStatus == 300 ||\r\n                baseData.payStatus == 400\r\n              \"\r\n            >\r\n              <text>服务人员</text>\r\n              <view>{{ baseData.serverName }}</view>\r\n            </view>\r\n            <view\r\n              class=\"item\"\r\n              v-if=\"\r\n                baseData.payStatus == 0 ||\r\n                baseData.payStatus == 1 ||\r\n                baseData.ordersStatus === 200 ||\r\n                baseData.ordersStatus == 300 ||\r\n                baseData.ordersStatus == 600\r\n              \"\r\n              ><text>预约时间</text>\r\n              <view>{{\r\n                formatDateTimeToDateTimeString(\r\n                  new Date(baseData.serveStartTime.replace(/-/g, '/'))\r\n                )\r\n              }}</view>\r\n            </view>\r\n            <view class=\"item\"\r\n              ><text>服务地址</text>\r\n              <view>{{ baseData.serveAddress }}</view>\r\n            </view>\r\n            <view class=\"item\">\r\n              <text>联系人</text>\r\n              <view class=\"two\"\r\n                ><text>{{ baseData.contactsName }}</text\r\n                ><text>{{ baseData.contactsPhone }}</text></view\r\n              >\r\n            </view>\r\n          </view>\r\n          <view\r\n            class=\"orderList\"\r\n            v-if=\"baseData.payStatus === 300 || baseData.ordersStatus === 700\"\r\n          >\r\n            <view class=\"item\"\r\n              ><text>退款时间</text>\r\n              <view>{{\r\n                baseData.cancelTime\r\n                  ? formatDateTimeToDateTimeString(\r\n                      new Date(baseData.cancelTime?.replace(/-/g, '/'))\r\n                    )\r\n                  : ''\r\n              }}</view>\r\n            </view>\r\n            <view class=\"item\"\r\n              ><text>退款原因</text>\r\n              <view>{{ baseData.cancelReason }}</view>\r\n            </view>\r\n            <view class=\"item\" v-if=\"baseData.ordersStatus === 700\"\r\n              ><text>退款金额</text>\r\n              <view>{{\r\n                baseData.realPayAmount ? `￥${baseData.realPayAmount}` : ''\r\n              }}</view>\r\n            </view>\r\n          </view>\r\n          <!-- 完成，待评价 -->\r\n          <view\r\n            class=\"orderList\"\r\n            v-if=\"\r\n              baseData.ordersStatus === 500 || baseData.ordersStatus === 400\r\n            \"\r\n          >\r\n            <view class=\"item\" v-if=\"baseData.serverName\"\r\n              ><text>服务人员</text>\r\n              <view>{{ baseData.serverName }}</view>\r\n            </view>\r\n            <view class=\"item\" v-if=\"baseData.serveActualEndTime\"\r\n              ><text>完成时间</text>\r\n              <view>{{\r\n                formatDateTimeToDateTimeString(\r\n                  new Date(baseData.serveActualEndTime.replace(/-/g, '/'))\r\n                )\r\n              }}</view>\r\n            </view>\r\n            <view class=\"item\"\r\n              ><text>服务地址</text>\r\n              <view>{{ baseData.serveAddress }}</view>\r\n            </view>\r\n            <view class=\"item\">\r\n              <text>联系人</text>\r\n              <view class=\"two\"\r\n                ><text>{{ baseData.contactsName }}</text\r\n                ><text>{{ baseData.contactsPhone }}</text></view\r\n              >\r\n            </view>\r\n          </view>\r\n          <view class=\"orderList\">\r\n            <view class=\"item\"\r\n              ><text>订单编号</text>\r\n              <view>{{ baseData.id }}</view>\r\n            </view>\r\n            <view class=\"item\" v-if=\"baseData.createTime\"\r\n              ><text>下单时间</text>\r\n              <view>{{\r\n                formatDateTimeToDateTimeString(\r\n                  new Date(baseData.createTime.replace(/-/g, '/'))\r\n                )\r\n              }}</view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view class=\"footBox detailFoot\" v-if=\"baseData.ordersStatus !== 300\"\r\n        ><view\r\n          class=\"s-btn btSmall bt-grey inputW\"\r\n          @click=\"handleCancel\"\r\n          v-if=\"\r\n            baseData.ordersStatus === 0 ||\r\n            baseData.ordersStatus === 100 ||\r\n            baseData.ordersStatus === 200\r\n          \"\r\n          >取消订单</view\r\n        >\r\n        <view\r\n          class=\"btn btSmall bt-orange inputW\"\r\n          @click=\"handlePay(baseData)\"\r\n          v-if=\"baseData.ordersStatus === 0\"\r\n          >去支付</view\r\n        >\r\n        <view\r\n          class=\"s-btn btSmall bt-grey inputW\"\r\n          @click=\"handleRefund\"\r\n          v-if=\"baseData.ordersStatus === 400\"\r\n          >申请退款</view\r\n        >\r\n        <view\r\n          class=\"btn btSmall bt-orange inputW\"\r\n          @click=\"handleTranslate\"\r\n          v-if=\"baseData.ordersStatus === 400\"\r\n          >去评价</view\r\n        >\r\n        <view\r\n          class=\"s-btn btSmall bt-grey inputW\"\r\n          @click=\"handleRefund\"\r\n          v-if=\"baseData.ordersStatus === 500\"\r\n          >申请售后</view\r\n        >\r\n        <view\r\n          class=\"btn btSmall bt-grey inputW\"\r\n          v-if=\"baseData.ordersStatus === 600 || baseData.ordersStatus === 700\"\r\n          @click=\"handleDelete\"\r\n          >删除订单</view\r\n        >\r\n      </view>\r\n    </view>\r\n    <!-- 提示窗示例 -->\r\n    <uni-popup\r\n      mask-background-color=\"rgba(0,0,0,0.6)\"\r\n      ref=\"alertDialog\"\r\n      type=\"bottom\"\r\n      :is-mask-click=\"false\"\r\n      class=\"freeze\"\r\n    >\r\n      <button class=\"phone-button\" @click=\"makePhoneCall\">\r\n        呼叫 400-000-4000\r\n      </button>\r\n      <button class=\"phone-button\" @click=\"handleClose\">取消</button>\r\n    </uni-popup>\r\n    <!-- end -->\r\n    <!-- 提示窗提示无法取消 -->\r\n    <uni-popup\r\n      ref=\"noCancelDialog\"\r\n      :is-mask-click=\"false\"\r\n      class=\"freeze\"\r\n      mask-background-color=\"rgba(0,0,0,0.6)\"\r\n    >\r\n      <uni-popup-dialog\r\n        mode=\"base\"\r\n        content=\"当前不可自行取消订单，如需取消需拨打客服热线400-000-4000\"\r\n        title=\" \"\r\n        :animation=\"false\"\r\n        :before-close=\"true\"\r\n        confirmText=\"联系客服\"\r\n        cancelText=\"我知道了\"\r\n        @close=\"close\"\r\n        @confirm=\"makePhoneCall\"\r\n      >\r\n        <template #default>\r\n          <view class=\"cancelDialog\">\r\n            {{ content }}\r\n          </view>\r\n        </template>\r\n      </uni-popup-dialog>\r\n    </uni-popup>\r\n    <!-- end -->\r\n    <!-- 删除确认对话框 -->\r\n    <uni-popup\r\n      ref=\"popup\"\r\n      type=\"dialog\"\r\n      class=\"address-popup\"\r\n      mask-background-color=\"rgba(0,0,0,0.6)\"\r\n    >\r\n      <uni-popup-dialog\r\n        mode=\"base\"\r\n        content=\"确定删除此条订单？\"\r\n        :animation=\"false\"\r\n        :before-close=\"true\"\r\n        @close=\"close\"\r\n        @confirm=\"confirm\"\r\n      >\r\n      </uni-popup-dialog>\r\n    </uni-popup>\r\n    <!-- end -->\r\n  </scroll-view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onUnmounted } from 'vue';\r\nimport { onLoad, onShow } from '@dcloudio/uni-app';\r\nimport {\r\n  formatDuring,\r\n  formatDateTimeToDateTimeString,\r\n  laterTime,\r\n} from '@/utils/index.js';\r\nimport {\r\n  getOrderDetail,\r\n  deleteOrder,\r\n} from '@/pages/api/order.js';\r\nimport { useStore } from 'vuex';\r\nimport { UNIT } from '@/utils/commonData.js';\r\n// 组件\r\n// ------定义变量------\r\nconst store = useStore(); //存储获取数据\r\nconst users = store.state.user; //获取存储数据\r\nconst isSendRequest = ref(false); // 是否继续发送请求\r\nconst baseData = ref({\r\n  nursingProjectVo: {},\r\n  elderVo: {},\r\n}); //订单详情数据\r\nconst orderId = ref(null); //订单id\r\nconst times = ref(null);\r\nconst rocallTime = ref(null); //倒计时\r\nconst alertDialog = ref(null); //提示窗\r\n//胶囊底部距离头部的距离\r\nlet capsuleBottom = ref();\r\nconst content = ref('');\r\nconst typeVal = ref(users.backLink);\r\nconst isback = ref(false); //是否触发了左上角返回按钮\r\nconst noCancelDialog = ref(null); //不可取消提示框\r\nconst popup = ref(null); //删除确认提示框\r\n// ------定义方法------\r\nonLoad((option) => {\r\n  uni.getSystemInfo({\r\n    success: (res) => {\r\n      capsuleBottom.value = uni.getMenuButtonBoundingClientRect().bottom + 10;\r\n    },\r\n  });\r\n  orderId.value = option.id;\r\n});\r\n// \r\n// 返回后刷新数据\r\nonShow(() => {\r\n  getDetail();\r\n});\r\n// 退出页面时触发清除定时器\r\nonUnmounted(() => {\r\n  clearInterval(rocallTime.value);\r\n});\r\n// 获取订单详情\r\nconst getDetail = async () => {\r\n  await getOrderDetail(orderId.value).then((res) => {\r\n    if (res.data.code === 200) {\r\n      baseData.value = res.data.data;\r\n      if (isSendRequest.value === false) {\r\n        runTimeBack(baseData.value.createTime);\r\n      }\r\n    }\r\n  });\r\n};\r\n// 取消订单\r\nconst handleCancel = () => {\r\n  // 当前时间\r\n  const now = new Date().getTime();\r\n  // 判断当前时间与服务开始时间的差值，如果小于2小时，弹出提示框\r\n  const time =\r\n    new Date(baseData.value.serveStartTime.replace(/-/g, '/')).getTime() - now;\r\n  if (\r\n    time < 2 * 60 * 60 * 1000 &&\r\n    baseData.value.ordersStatus !== 100 &&\r\n    baseData.value.ordersStatus !== 0\r\n  ) {\r\n    content.value =\r\n      '当前不可自行取消订单， 如需取消需拨打客服热线 400-000-4000';\r\n    noCancelDialog.value.open();\r\n  } else {\r\n    handleNavigate(orderId.value, 4);\r\n  }\r\n};\r\n// 取消、退款原因页面\r\nconst handleNavigate = (id, num) => {\r\n  uni.navigateTo({\r\n    url: `/subPages/order/cancel?id=${id}&type=` + num,\r\n  });\r\n};\r\n// 去支付\r\nconst handlePay = (val) => {\r\n  let cheapPrice = 0;\r\n  cheapPrice = val.price - val.realPayAmount;\r\n  uni.navigateTo({\r\n    url:\r\n      '/pages/pay/index?id=' +\r\n      val.id +\r\n      '&time=' +\r\n      val.createTime +\r\n      '&price=' +\r\n      val.price +\r\n      '&cheapPrice=' +\r\n      cheapPrice,\r\n  });\r\n};\r\n// 退款\r\nconst handleRefund = () => {\r\n  // 当前时间\r\n  const now = new Date().getTime();\r\n  // 判断当前时间与服务完成时间的差值，如果大于15小时，弹出提示框\r\n  const time =\r\n    now -\r\n    new Date(baseData.value.serveActualEndTime.replace(/-/g, '/')).getTime();\r\n  if (time > 15 * 24 * 60 * 1000) {\r\n    content.value = '抱歉，您的服务项目已超出退款申请时效';\r\n    noCancelDialog.value.open();\r\n  } else {\r\n    alertDialog.value.open();\r\n  }\r\n};\r\n\r\n// 订单倒计时\r\nconst runTimeBack = (val) => {\r\n  const end = Date.parse(val.replace(/-/g, '/'));\r\n  const now = Date.parse(new Date());\r\n  const m15 = 15 * 60 * 1000;\r\n  let msec = m15 - (now - end);\r\n  // 将msec转换成时分秒\r\n  const time = formatDuring(msec);\r\n  times.value = time;\r\n  // 清除所有的定时器\r\n  // 倒计时\r\n  rocallTime.value = setInterval(() => {\r\n    if (msec > 0) {\r\n      msec -= 1000;\r\n      times.value = formatDuring(msec);\r\n    } else {\r\n      clearInterval(rocallTime.value);\r\n      isSendRequest.value = true; // 更新标志位\r\n      if (isSendRequest.value) {\r\n        getDetail(); // 调用 getDetail\r\n      }\r\n    }\r\n  }, 1000);\r\n};\r\n// 列表页返回订单列表\r\nconst handleToLink = () => {\r\n  isback.value = true; //是否触发了左上角返回按钮\r\n  if (\r\n    typeVal.value === 'back' ||\r\n    typeVal.value === 'detail' ||\r\n    typeVal.value === 'goods' ||\r\n    typeVal.value === 'home'\r\n  ) {\r\n    uni.redirectTo({\r\n      url: `/subPages/order/index`,\r\n    });\r\n  } else {\r\n    uni.navigateBack({\r\n      delta: 1,\r\n    });\r\n  }\r\n};\r\nconst handleToCancelRule = () => {\r\n  let time = '';\r\n  time = formatDateTimeToDateTimeString(\r\n    new Date(laterTime(baseData.value.serveStartTime.replace(/-/g, '/'), 2, 1))\r\n  );\r\n  uni.navigateTo({\r\n    url: `/subPages/order/cancelRule?id=${orderId.value}&type=1&&time=${time}`,\r\n  });\r\n};\r\n// 去评价\r\nconst handleTranslate = () => {\r\n  uni.navigateTo({\r\n    url: `/subPages/order/components/evaluate?id=${orderId.value}`,\r\n  });\r\n};\r\n// 关闭\r\nconst handleClose = () => {\r\n  alertDialog.value.close();\r\n};\r\n// 拨打电话\r\nconst makePhoneCall = () => {\r\n  uni.makePhoneCall({\r\n    phoneNumber: '400-000-4000', //仅为示例，并非真实的电话号码\r\n  });\r\n};\r\n//关闭删除确认提示框\r\nconst close = () => {\r\n  popup.value.close();\r\n  noCancelDialog.value.close();\r\n};\r\n// 点击删除\r\nconst handleDelete = () => {\r\n  popup.value.open();\r\n};\r\n// 确认删除\r\nconst confirm = () => {\r\n  popup.value.close();\r\n  deleteOrder(baseData.value.id)\r\n    .then((res) => {\r\n      uni.navigateBack({\r\n        delta: 1,\r\n      });\r\n      uni.showToast({\r\n        title: '删除成功',\r\n        icon: 'success',\r\n        duration: 1000,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      uni.showToast({\r\n        title: '删除失败',\r\n        icon: 'none',\r\n        duration: 1000,\r\n      });\r\n    });\r\n};\r\n</script>\r\n<style src=\"./index.scss\" lang=\"scss\" scoped></style>\r\n<style lang=\"scss\" scoped>\r\n.orderInfo .orderList .item .two text {\r\n  font-size: var(--font-size-14);\r\n  color: var(--neutral-color-main);\r\n  margin-right: 35rpx;\r\n  display: inline-block;\r\n  padding-right: 0;\r\n  width: auto;\r\n}\r\n.orderInfo .orderList .item {\r\n  text {\r\n    width: 114rpx;\r\n    min-width: 114rpx;\r\n    display: inline-block;\r\n    font-size: var(--font-size-14);\r\n    color: #888;\r\n    // box-sizing: border-box;\r\n  }\r\n  view {\r\n    width: 563rpx;\r\n  }\r\n}\r\n.projectInfo {\r\n  .head image {\r\n    width: 164rpx;\r\n    height: 122rpx;\r\n    border-radius: 0;\r\n  }\r\n  .rText {\r\n    padding-left: 22rpx;\r\n    .tit {\r\n      margin-top: 4rpx;\r\n      font-weight: 500;\r\n      font-size: 32rpx;\r\n    }\r\n    .projectFee {\r\n      font-size: 28rpx;\r\n      margin-bottom: 8rpx;\r\n      height: auto;\r\n    }\r\n  }\r\n}\r\n.projectBox {\r\n  padding: 33rpx 27rpx 35rpx;\r\n  .foot {\r\n    padding-top: 31.5rpx;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .foot1 {\r\n    padding-bottom: 35rpx;\r\n  }\r\n}\r\n.orderInfo .orderList {\r\n  padding-top: 16rpx;\r\n}\r\n.operateTip {\r\n  font-weight: 400;\r\n  view {\r\n    font-size: 28rpx;\r\n    color: #ffffff;\r\n  }\r\n  .tit {\r\n    font-weight: 500;\r\n    font-size: 36rpx;\r\n    color: #ffffff;\r\n    margin-bottom: 14rpx;\r\n  }\r\n}\r\n.cancelReason {\r\n  margin-top: 32rpx;\r\n  margin-bottom: 32rpx;\r\n  background-color: #fff;\r\n  padding: 30rpx 29rpx 34rpx 27rpx;\r\n  font-size: 28rpx;\r\n  view {\r\n    display: flex;\r\n    .success {\r\n      color: var(--essential-color-red);\r\n    }\r\n    .title {\r\n      width: 114rpx;\r\n      min-width: 114rpx;\r\n      color: var(--neutral-color-main);\r\n      margin-right: 32rpx;\r\n    }\r\n    .content {\r\n      width: 476rpx;\r\n      font-family: PingFangSC-Regular;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      color: #888888;\r\n      line-height: 44rpx;\r\n    }\r\n    image {\r\n      width: 20rpx;\r\n      height: 20rpx;\r\n      align-self: center;\r\n      margin-left: auto;\r\n    }\r\n  }\r\n}\r\n.btn {\r\n  width: 152rpx;\r\n  height: 60rpx;\r\n  color: var(--essential-color-red);\r\n  font-size: 28rpx;\r\n  line-height: 60rpx;\r\n  margin-right: 24rpx;\r\n}\r\n.s-btn {\r\n  font-size: 28rpx;\r\n  width: 152rpx;\r\n  height: 60rpx;\r\n  line-height: 60rpx;\r\n  border: 2rpx solid #888888;\r\n  margin-right: 24rpx;\r\n}\r\n.phone-button {\r\n  width: 720rpx;\r\n  height: 112rpx;\r\n  margin: 0 auto;\r\n  background-color: #fff;\r\n  border-radius: 24rpx;\r\n  font-size: 36rpx;\r\n  font-weight: 500;\r\n  margin-bottom: 20rpx;\r\n  color: #f74c50;\r\n  line-height: 112rpx;\r\n  &:last-child {\r\n    color: #151515;\r\n  }\r\n}\r\n:deep(.uni-popup-dialog) {\r\n  font-weight: 400;\r\n  font-size: 32rpx;\r\n  color: #151515;\r\n  letter-spacing: 0.36rpx;\r\n  width: 556rpx;\r\n  .uni-dialog-title {\r\n    display: none;\r\n  }\r\n  .uni-dialog-content {\r\n    padding: 49rpx 83rpx;\r\n  }\r\n  .cancelDialog {\r\n    text-align: center;\r\n  }\r\n}\r\n.red {\r\n  color: var(--essential-color-red);\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/class_project/jzo2o/jzo2o-front/jzo2o-consumer/subPages/order/details.vue'\nwx.createPage(MiniProgramPage)"],"names":["useStore","ref","onLoad","uni","onShow","onUnmounted","getOrderDetail","formatDuring","formatDateTimeToDateTimeString","laterTime","deleteOrder"],"mappings":"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"}